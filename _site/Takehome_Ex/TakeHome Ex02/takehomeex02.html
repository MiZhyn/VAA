<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>ISSS608-VAA - Takehome_ex02</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../ThemeL.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">ISSS608-VAA</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-hands-on-excercise" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Hands-on Excercise</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-hands-on-excercise">    
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html" rel="" target="">
 <span class="dropdown-text">Hands-on Ex 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html" rel="" target="">
 <span class="dropdown-text">Hands-on Ex 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex03/Handsonex03.html" rel="" target="">
 <span class="dropdown-text">Hands-on Ex 3a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex03/Handsonex03b.html" rel="" target="">
 <span class="dropdown-text">Hands-on Ex 3b</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04.html" rel="" target="">
 <span class="dropdown-text">Hands-on Ex 4</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex06/Hands-on_Ex06.html" rel="" target="">
 <span class="dropdown-text">Hands-on Ex 6</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex07/Hands-on_Ex07.html" rel="" target="">
 <span class="dropdown-text">Hands-on Ex 7</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex08new/Hands-on_Ex08.html" rel="" target="">
 <span class="dropdown-text">Hands-on Ex 8</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex09a/Hands-on_Ex09a.html" rel="" target="">
 <span class="dropdown-text">Hands-on Ex 9a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex09b/Hands-on_Ex09b.html" rel="" target="">
 <span class="dropdown-text">Hands-on Ex 9b</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-take-home-excercise" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Take Home Excercise</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-take-home-excercise">    
        <li>
    <a class="dropdown-item" href="../../Takehome_Ex/TakeHome Ex01/Takehomeex01.html" rel="" target="">
 <span class="dropdown-text">Take Home Ex 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Takehome_Ex/TakeHome Ex02/takehomeex02.html" rel="" target="">
 <span class="dropdown-text">Take Home Ex 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Takehome_Ex/TakeHome Ex03/Takehomeex03.html" rel="" target="">
 <span class="dropdown-text">Take Home Ex 3</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-in-class-excercise" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">In class Excercise</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-in-class-excercise">    
        <li>
    <a class="dropdown-item" href="../../InClass_Ex/In class2/In-class_Ex02.html" rel="" target="">
 <span class="dropdown-text">In Class Ex 1</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of Contents</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview"><strong>1. Overview</strong></a></li>
  <li><a href="#critique-clarity-and-aesthetics" id="toc-critique-clarity-and-aesthetics" class="nav-link" data-scroll-target="#critique-clarity-and-aesthetics">2. <strong>Critique : Clarity and Aesthetics</strong></a>
  <ul>
  <li><a href="#original-design" id="toc-original-design" class="nav-link" data-scroll-target="#original-design"><strong>2.1 Original Design</strong></a></li>
  <li><a href="#clarity-suggestions" id="toc-clarity-suggestions" class="nav-link" data-scroll-target="#clarity-suggestions"><strong>2.2 Clarity Suggestions:</strong></a></li>
  <li><a href="#aesthetics-suggestions" id="toc-aesthetics-suggestions" class="nav-link" data-scroll-target="#aesthetics-suggestions"><strong>2.2 Aesthetics Suggestions:</strong></a></li>
  </ul></li>
  <li><a href="#data-preparation" id="toc-data-preparation" class="nav-link" data-scroll-target="#data-preparation">3. Data preparation</a></li>
  <li><a href="#plotting-makeover-charts" id="toc-plotting-makeover-charts" class="nav-link" data-scroll-target="#plotting-makeover-charts">4. Plotting makeover charts</a></li>
  <li><a href="#using-unit-price-per-area-instead-of-total-transaction-price" id="toc-using-unit-price-per-area-instead-of-total-transaction-price" class="nav-link" data-scroll-target="#using-unit-price-per-area-instead-of-total-transaction-price"><strong>4.1 Using unit price per area instead of total Transaction price</strong></a>
  <ul>
  <li><a href="#merge-the-charts" id="toc-merge-the-charts" class="nav-link" data-scroll-target="#merge-the-charts">4.2 Merge the charts</a></li>
  <li><a href="#add-more-information-to-the-visualization" id="toc-add-more-information-to-the-visualization" class="nav-link" data-scroll-target="#add-more-information-to-the-visualization">4.3 Add more information to the visualization</a></li>
  <li><a href="#improve-labeling-axis-display-and-interactivity" id="toc-improve-labeling-axis-display-and-interactivity" class="nav-link" data-scroll-target="#improve-labeling-axis-display-and-interactivity">4.4 Improve Labeling, Axis Display, and Interactivity</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Takehome_ex02</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="cell">
<style type="text/css">
.output {
  max-height: 300px;
  overflow-y: scroll;
}
</style>
</div>
<section id="overview" class="level2">
<h2 class="anchored" data-anchor-id="overview"><strong>1. Overview</strong></h2>
<p>This exercise aims to provide critique and improvements to distribution of transaction Priced by Sale type created by peer in Take-home Exercise 1. This will be done based on clarity and aesthetics. The original design will then be remade using data visualization design principles and best practices using&nbsp;<code>ggplot2</code>, its extensions, and<code>t</code></p>
</section>
<section id="critique-clarity-and-aesthetics" class="level2">
<h2 class="anchored" data-anchor-id="critique-clarity-and-aesthetics">2. <strong>Critique : Clarity and Aesthetics</strong></h2>
<section id="original-design" class="level3">
<h3 class="anchored" data-anchor-id="original-design"><strong>2.1 Original Design</strong></h3>
</section>
<section id="clarity-suggestions" class="level3">
<h3 class="anchored" data-anchor-id="clarity-suggestions"><strong>2.2 Clarity Suggestions:</strong></h3>
<ul>
<li>Add axis labels: The y-axis should be labeled with “Transacted Price (S$)” or the appropriate currency unit to clarify the data being represented.</li>
<li>Explain data points: The dots representing individual transactions should be explained, either through a legend or a note, to ensure the audience understands their meaning.</li>
<li>Provide context: Additional context, such as the total number of transactions or the average price for each sale type, could be helpful for interpreting the data.</li>
<li>Clarify outliers: Some data points appear to be outliers, deviating significantly from the rest of the distribution. These should be highlighted or labeled to avoid confusion.</li>
<li>Adjust y-axis scale: The y-axis scale could be adjusted to better fit the data range, as the current scale may exaggerate the differences between the lower and higher values.</li>
</ul>
</section>
<section id="aesthetics-suggestions" class="level3">
<h3 class="anchored" data-anchor-id="aesthetics-suggestions"><strong>2.2 Aesthetics Suggestions:</strong></h3>
<ul>
<li>Explore color options: The current grayscale color scheme is functional but lacks visual appeal. Introducing a carefully chosen color palette could enhance the overall aesthetics.</li>
<li>Refine plot elements: The box plot elements (whiskers, boxes, and median lines) could benefit from adjustments to line thickness, transparency, or style to improve visual hierarchy and clarity.</li>
<li>Optimize white space: The white space around the plot area could be better utilized by adjusting the margins or resizing the plot to make more efficient use of the available canvas.</li>
<li>Improve alignment: The horizontal alignment of the x-axis labels could be improved to ensure they are centered under their respective plot areas.</li>
<li>Consider alternative visualizations: While box plots are suitable for showing distributions, alternative visualizations like violin plots or ridge plots could be explored to offer a fresh perspective on the data.</li>
<li>Enhance typography: The font choice, size, and weight could be refined to improve legibility and align with best practices in data visualization typography.</li>
</ul>
</section>
</section>
<section id="data-preparation" class="level2">
<h2 class="anchored" data-anchor-id="data-preparation">3. Data preparation</h2>
<p>Launch R packages and import data from csv using <code>readr::read_csv()</code>. The packages installed are <code>tidyverse</code>, <code>plotly</code> and <code>scales</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>files1<span class="ot">&lt;-</span><span class="fu">read.csv</span>(<span class="st">"data/ResidentialTransaction20240308160536.csv"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>files2<span class="ot">&lt;-</span><span class="fu">read.csv</span>(<span class="st">"data/ResidentialTransaction20240308160736.csv"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>files3<span class="ot">&lt;-</span><span class="fu">read.csv</span>(<span class="st">"data/ResidentialTransaction20240308161009.csv"</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>files4<span class="ot">&lt;-</span><span class="fu">read.csv</span>(<span class="st">"data/ResidentialTransaction20240308161109.csv"</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>files5<span class="ot">&lt;-</span><span class="fu">read.csv</span>(<span class="st">"data/ResidentialTransaction20240414220633.csv"</span>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>uniondata <span class="ot">&lt;-</span> <span class="fu">rbind</span>(files1, files2, files3, files4,files5)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse, ggstatsplot, ggridges, plotly, dplyr,wesanderson,lubridate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Transacted.Price….,Transacted.Price….,Area..SQFT.</strong> are of type <code>chr</code>,As they should be numeric, they will be cast as <code>num</code> class.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>uniondata<span class="sc">$</span>Transacted.Price.... <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">","</span>, <span class="st">""</span>, uniondata<span class="sc">$</span>Transacted.Price....))</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>uniondata<span class="sc">$</span>Area..SQFT. <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">","</span>, <span class="st">""</span>, uniondata<span class="sc">$</span>Area..SQFT.))</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>uniondata<span class="sc">$</span>Unit.Price....PSF. <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">","</span>, <span class="st">""</span>, uniondata<span class="sc">$</span>Unit.Price....PSF.))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Splitting the uniondata dataset into two separate data frames, one containing data from 2023 and the other containing data from 2024, based on the Sale.Date column. This can be useful for analyzing or processing data from different years separately.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>uniondata<span class="sc">$</span>Sale.Date <span class="ot">&lt;-</span> <span class="fu">dmy</span>(uniondata<span class="sc">$</span>Sale.Date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter data for 2023</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>data_2023 <span class="ot">&lt;-</span> <span class="fu">subset</span>(uniondata, <span class="fu">format</span>(uniondata<span class="sc">$</span>Sale.Date, <span class="st">"%Y"</span>) <span class="sc">==</span> <span class="st">"2023"</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter data for 2024</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>data_2024 <span class="ot">&lt;-</span> <span class="fu">subset</span>(uniondata, <span class="fu">format</span>(uniondata<span class="sc">$</span>Sale.Date, <span class="st">"%Y"</span>) <span class="sc">==</span> <span class="st">"2024"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="plotting-makeover-charts" class="level2">
<h2 class="anchored" data-anchor-id="plotting-makeover-charts">4. Plotting makeover charts</h2>
</section>
<section id="using-unit-price-per-area-instead-of-total-transaction-price" class="level2">
<h2 class="anchored" data-anchor-id="using-unit-price-per-area-instead-of-total-transaction-price"><strong>4.1 Using unit price per area instead of total Transaction price</strong></h2>
<p>Currently, our visualization uses total transaction price to show price distributions for different sales types. However, total price can be misleading due to property size variations. For example, a large property sold for 50 million SGD and a smaller property sold for the same total price would have different unit area prices. To accurately compare price distributions, unit area price (price per square meter or price per square foot) should be used. This eliminates the influence of property size and provides a fairer comparison of price levels among different sales types.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data_2023, </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> <span class="st">`</span><span class="at">Unit.Price....PSF.</span><span class="st">`</span>,       </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">x=</span> <span class="st">`</span><span class="at">Type.of.Sale</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Transacted Prices in 2023 Q1"</span>)<span class="sc">+</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Unit Price($）"</span>,<span class="at">y =</span> <span class="st">"Type of Sale"</span>)</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data_2024, </span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> <span class="st">`</span><span class="at">Unit.Price....PSF.</span><span class="st">`</span>,       </span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>           <span class="at">x=</span> <span class="st">`</span><span class="at">Type.of.Sale</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Transacted Prices in 2024 Q1"</span>)<span class="sc">+</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Unit Price($）"</span>, <span class="at">y =</span> <span class="st">"Type of Sale"</span>)</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>combined_data <span class="ot">&lt;-</span> <span class="fu">rbind</span>(data_2023, data_2024)</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>combined_data<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">format</span>(combined_data<span class="sc">$</span>Sale.Date, <span class="st">"%Y"</span>))</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the plot</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>combined_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(combined_data, </span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">aes</span>(<span class="at">y =</span> <span class="st">`</span><span class="at">Unit.Price....PSF.</span><span class="st">`</span>,       </span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>                            <span class="at">x =</span> <span class="st">`</span><span class="at">Type.of.Sale</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Transacted Prices Comparison"</span>) <span class="sc">+</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Type of Sale"</span>, <span class="at">y =</span> <span class="st">"Unit Price($)"</span>) <span class="sc">+</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>Year, <span class="at">ncol =</span> <span class="dv">2</span>)</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the plot</span></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(combined_plot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="takehomeex02_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<section id="merge-the-charts" class="level3">
<h3 class="anchored" data-anchor-id="merge-the-charts">4.2 Merge the charts</h3>
<p>Currently, the visualization displays the data for 2024 Q1 and 2023 Q1 separately in two independent plots, which increases the cognitive load for users to visually compare the data for two different time points. Combining them into the same coordinate system will significantly improve the efficiency of conveying information in the visualization.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine data for both years and create a new column for year</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>data_2023<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="st">"2023"</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>data_2024<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="st">"2024"</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>combined_data <span class="ot">&lt;-</span> <span class="fu">rbind</span>(data_2023, data_2024)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot combined data</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>combined_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(combined_data, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">Type.of.Sale</span><span class="st">`</span>, <span class="at">y =</span> <span class="st">`</span><span class="at">Unit.Price....PSF.</span><span class="st">`</span>, <span class="at">fill =</span> Year)) <span class="sc">+</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="fl">0.85</span>), <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Transacted Prices Comparison"</span>) <span class="sc">+</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Type of Sale"</span>, <span class="at">y =</span> <span class="st">"Unit Price($)"</span>) <span class="sc">+</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"2023"</span> <span class="ot">=</span> <span class="st">"#1a80bb"</span>, <span class="st">"2024"</span> <span class="ot">=</span> <span class="st">"#f2c45f"</span>)) <span class="sc">+</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Rotate x-axis labels for better readability</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>combined_plot <span class="ot">&lt;-</span> combined_plot <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the plot</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(combined_plot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="takehomeex02_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="add-more-information-to-the-visualization" class="level3">
<h3 class="anchored" data-anchor-id="add-more-information-to-the-visualization">4.3 Add more information to the visualization</h3>
<p>Include richer statistical information such as the mean, median, etc., for each price group. Replace the box plot with a violin plot to provide more detailed information about the density of price distribution.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine data for both years and create a new column for year</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine data for both years and create a new column for year</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>data_2023<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="st">"2023"</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>data_2024<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="st">"2024"</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>combined_data <span class="ot">&lt;-</span> <span class="fu">rbind</span>(data_2023, data_2024)</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot combined data</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>combined_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(combined_data, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">Type.of.Sale</span><span class="st">`</span>, <span class="at">y =</span> <span class="st">`</span><span class="at">Unit.Price....PSF.</span><span class="st">`</span>, <span class="at">fill =</span> Year)) <span class="sc">+</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">trim =</span> <span class="cn">FALSE</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span>  <span class="co"># Use violin plot with transparency</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Transacted Prices Comparison"</span>) <span class="sc">+</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Type of Sale"</span>, <span class="at">y =</span> <span class="st">"Unit Price($)"</span>) <span class="sc">+</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"2023"</span> <span class="ot">=</span> <span class="st">"#1a80bb"</span>, <span class="st">"2024"</span> <span class="ot">=</span> <span class="st">"#f2c45f"</span>)) <span class="sc">+</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Rotate x-axis labels for better readability</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>combined_plot <span class="ot">&lt;-</span> combined_plot <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the plot</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(combined_plot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="takehomeex02_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="improve-labeling-axis-display-and-interactivity" class="level3">
<h3 class="anchored" data-anchor-id="improve-labeling-axis-display-and-interactivity">4.4 Improve Labeling, Axis Display, and Interactivity</h3>
<p>Enhance the clarity of labels and axis displays in the plot by formatting numbers with thousands separators. Additionally, introduce interactivity to allow users to explore more detailed information.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">The Plot</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">The code chunk</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p><img src="images/newplot.png" class="img-fluid"></p>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>stats_data <span class="ot">&lt;-</span> combined_data <span class="sc">%&gt;%</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year, Type.of.Sale) <span class="sc">%&gt;%</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean =</span> <span class="fu">mean</span>(Unit.Price....PSF.))</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressWarnings</span>({</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_ly</span>(combined_data, <span class="at">x =</span> <span class="sc">~</span>Type.of.Sale, <span class="at">y =</span> <span class="sc">~</span>Unit.Price....PSF., <span class="at">color =</span> <span class="sc">~</span>Year, <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">"#1a80bb"</span>, <span class="st">"#f2c45f"</span>),</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">type =</span> <span class="st">"violin"</span>,</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">box =</span> <span class="fu">list</span>(<span class="at">visible =</span> T, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">width =</span> <span class="dv">1</span>)),</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">meanline =</span> <span class="fu">list</span>(<span class="at">visible =</span> T),</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">opacity =</span> <span class="fl">0.7</span>,</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">hoverinfo =</span> <span class="st">"text"</span>,</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">text =</span> <span class="sc">~</span><span class="fu">paste</span>(<span class="st">"Year: "</span>, Year, <span class="st">"&lt;br&gt;Type of Sale: "</span>, Type.of.Sale, <span class="st">"&lt;br&gt;Unit Price: $"</span>, <span class="fu">format</span>(<span class="fu">round</span>(Unit.Price....PSF., <span class="dv">0</span>), <span class="at">big.mark =</span> <span class="st">","</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Transacted Prices Comparison"</span>, <span class="at">x =</span> <span class="fl">0.5</span>, <span class="at">y =</span> <span class="dv">2</span>, <span class="at">font =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">16</span>)),</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>         <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Type of Sale"</span>, <span class="at">font =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">12</span>)), <span class="at">tickfont =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">12</span>)),</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>         <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Unit Price($)"</span>, <span class="at">font =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">12</span>)), <span class="at">tickfont =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">12</span>), <span class="at">tickformat =</span> <span class="st">","</span>),</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>         <span class="at">legend =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Year"</span>)),</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>         <span class="at">violinmode =</span> <span class="st">"group"</span>,</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>         <span class="at">annotations =</span> <span class="fu">list</span>(</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>           <span class="fu">list</span>(</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>             <span class="at">x =</span> <span class="st">"New Sale"</span>, <span class="at">y =</span> stats_data<span class="sc">$</span>mean[stats_data<span class="sc">$</span>Type.of.Sale <span class="sc">==</span> <span class="st">"New Sale"</span> <span class="sc">&amp;</span> stats_data<span class="sc">$</span>Year <span class="sc">==</span> <span class="st">"2023"</span>],</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>             <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"mean:"</span>, <span class="fu">format</span>(<span class="fu">round</span>(stats_data<span class="sc">$</span>mean[stats_data<span class="sc">$</span>Type.of.Sale <span class="sc">==</span> <span class="st">"New Sale"</span> <span class="sc">&amp;</span> stats_data<span class="sc">$</span>Year <span class="sc">==</span> <span class="st">"2023"</span>], <span class="dv">0</span>), <span class="at">big.mark =</span> <span class="st">","</span>)),</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>             <span class="at">showarrow =</span> F, <span class="at">xref =</span> <span class="st">"x"</span>, <span class="at">yref =</span> <span class="st">"y"</span>, <span class="at">yshift =</span> <span class="dv">130</span>, <span class="at">xshift =</span> <span class="dv">20</span></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>           ),</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>           <span class="fu">list</span>(</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>             <span class="at">x =</span> <span class="st">"Resale"</span>, <span class="at">y =</span> stats_data<span class="sc">$</span>mean[stats_data<span class="sc">$</span>Type.of.Sale <span class="sc">==</span> <span class="st">"Resale"</span> <span class="sc">&amp;</span> stats_data<span class="sc">$</span>Year <span class="sc">==</span> <span class="st">"2023"</span>],</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>             <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"mean:"</span>, <span class="fu">format</span>(<span class="fu">round</span>(stats_data<span class="sc">$</span>mean[stats_data<span class="sc">$</span>Type.of.Sale <span class="sc">==</span> <span class="st">"Resale"</span> <span class="sc">&amp;</span> stats_data<span class="sc">$</span>Year <span class="sc">==</span> <span class="st">"2023"</span>], <span class="dv">0</span>), <span class="at">big.mark =</span> <span class="st">","</span>)),</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>             <span class="at">showarrow =</span> F, <span class="at">xref =</span> <span class="st">"x"</span>, <span class="at">yref =</span> <span class="st">"y"</span>, <span class="at">yshift =</span> <span class="dv">165</span>, <span class="at">xshift =</span> <span class="dv">20</span></span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>           ),</span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>           <span class="fu">list</span>(</span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>             <span class="at">x =</span> <span class="st">"Sub Sale"</span>, <span class="at">y =</span> stats_data<span class="sc">$</span>mean[stats_data<span class="sc">$</span>Type.of.Sale <span class="sc">==</span> <span class="st">"Sub Sale"</span> <span class="sc">&amp;</span> stats_data<span class="sc">$</span>Year <span class="sc">==</span> <span class="st">"2023"</span>],</span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>             <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"mean:"</span>, <span class="fu">format</span>(<span class="fu">round</span>(stats_data<span class="sc">$</span>mean[stats_data<span class="sc">$</span>Type.of.Sale <span class="sc">==</span> <span class="st">"Sub Sale"</span> <span class="sc">&amp;</span> stats_data<span class="sc">$</span>Year <span class="sc">==</span> <span class="st">"2023"</span>], <span class="dv">0</span>), <span class="at">big.mark =</span> <span class="st">","</span>)),</span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>             <span class="at">showarrow =</span> F, <span class="at">xref =</span> <span class="st">"x"</span>, <span class="at">yref =</span> <span class="st">"y"</span>, <span class="at">yshift =</span> <span class="dv">130</span>, <span class="at">xshift =</span> <span class="dv">20</span></span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>           ),</span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a>           <span class="fu">list</span>(</span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a>             <span class="at">x =</span> <span class="st">"New Sale"</span>, <span class="at">y =</span> stats_data<span class="sc">$</span>mean[stats_data<span class="sc">$</span>Type.of.Sale <span class="sc">==</span> <span class="st">"New Sale"</span> <span class="sc">&amp;</span> stats_data<span class="sc">$</span>Year <span class="sc">==</span> <span class="st">"2024"</span>],</span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a>             <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"mean:"</span>, <span class="fu">format</span>(<span class="fu">round</span>(stats_data<span class="sc">$</span>mean[stats_data<span class="sc">$</span>Type.of.Sale <span class="sc">==</span> <span class="st">"New Sale"</span> <span class="sc">&amp;</span> stats_data<span class="sc">$</span>Year <span class="sc">==</span> <span class="st">"2024"</span>], <span class="dv">0</span>), <span class="at">big.mark =</span> <span class="st">","</span>)),</span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a>             <span class="at">showarrow =</span> F, <span class="at">xref =</span> <span class="st">"x"</span>, <span class="at">yref =</span> <span class="st">"y"</span>, <span class="at">yshift =</span> <span class="sc">-</span><span class="dv">50</span>, <span class="at">xshift =</span> <span class="dv">65</span></span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a>           ),</span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a>           <span class="fu">list</span>(</span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a>             <span class="at">x =</span> <span class="st">"Resale"</span>, <span class="at">y =</span> stats_data<span class="sc">$</span>mean[stats_data<span class="sc">$</span>Type.of.Sale <span class="sc">==</span> <span class="st">"Resale"</span> <span class="sc">&amp;</span> stats_data<span class="sc">$</span>Year <span class="sc">==</span> <span class="st">"2024"</span>],</span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a>             <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"mean:"</span>, <span class="fu">format</span>(<span class="fu">round</span>(stats_data<span class="sc">$</span>mean[stats_data<span class="sc">$</span>Type.of.Sale <span class="sc">==</span> <span class="st">"Resale"</span> <span class="sc">&amp;</span> stats_data<span class="sc">$</span>Year <span class="sc">==</span> <span class="st">"2024"</span>], <span class="dv">0</span>), <span class="at">big.mark =</span> <span class="st">","</span>)),</span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a>             <span class="at">showarrow =</span> F, <span class="at">xref =</span> <span class="st">"x"</span>, <span class="at">yref =</span> <span class="st">"y"</span>, <span class="at">yshift =</span> <span class="sc">-</span><span class="dv">50</span>, <span class="at">xshift =</span> <span class="dv">68</span></span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a>           ),</span>
<span id="cb10-45"><a href="#cb10-45" aria-hidden="true" tabindex="-1"></a>           <span class="fu">list</span>(</span>
<span id="cb10-46"><a href="#cb10-46" aria-hidden="true" tabindex="-1"></a>             <span class="at">x =</span> <span class="st">"Sub Sale"</span>, <span class="at">y =</span> stats_data<span class="sc">$</span>mean[stats_data<span class="sc">$</span>Type.of.Sale <span class="sc">==</span> <span class="st">"Sub Sale"</span> <span class="sc">&amp;</span> stats_data<span class="sc">$</span>Year <span class="sc">==</span> <span class="st">"2024"</span>],</span>
<span id="cb10-47"><a href="#cb10-47" aria-hidden="true" tabindex="-1"></a>             <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"mean:"</span>, <span class="fu">format</span>(<span class="fu">round</span>(stats_data<span class="sc">$</span>mean[stats_data<span class="sc">$</span>Type.of.Sale <span class="sc">==</span> <span class="st">"Sub Sale"</span> <span class="sc">&amp;</span> stats_data<span class="sc">$</span>Year <span class="sc">==</span> <span class="st">"2024"</span>], <span class="dv">0</span>), <span class="at">big.mark =</span> <span class="st">","</span>)),</span>
<span id="cb10-48"><a href="#cb10-48" aria-hidden="true" tabindex="-1"></a>             <span class="at">showarrow =</span> F, <span class="at">xref =</span> <span class="st">"x"</span>, <span class="at">yref =</span> <span class="st">"y"</span>, <span class="at">yshift =</span> <span class="sc">-</span><span class="dv">40</span>, <span class="at">xshift =</span> <span class="dv">68</span></span>
<span id="cb10-49"><a href="#cb10-49" aria-hidden="true" tabindex="-1"></a>           )</span>
<span id="cb10-50"><a href="#cb10-50" aria-hidden="true" tabindex="-1"></a>         ))</span>
<span id="cb10-51"><a href="#cb10-51" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>